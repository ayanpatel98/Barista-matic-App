"use strict";(self.webpackChunkbarista_matic_app=self.webpackChunkbarista_matic_app||[]).push([[876],{876:(I,l,o)=>{o.r(l),o.d(l,{BaristaMaticModule:()=>D});var a=o(177),p=o(810),e=o(540),d=o(412);const m={coffee:{name:"Coffee",cost:.75,inventory:10},decafCoffee:{name:"Decaf Coffee",cost:.75,inventory:10},sugar:{name:"Sugar",cost:.25,inventory:10},cream:{name:"Cream",cost:.25,inventory:10},steamedMilk:{name:"Steamed Milk",cost:.35,inventory:10},foamedMilk:{name:"Foamed Milk",cost:.35,inventory:10},espresso:{name:"Espresso",cost:1.1,inventory:10},cocoa:{name:"Cocoa",cost:.9,inventory:10},whippedCream:{name:"Whipped Cream",cost:1,inventory:10}},g=[{id:1,name:"Coffee",recipe:{coffee:3,sugar:1,cream:1}},{id:2,name:"Decaf Coffee",recipe:{decafCoffee:3,sugar:1,cream:1}},{id:3,name:"Caffe Latte",recipe:{espresso:2,steamedMilk:1}},{id:4,name:"Caffe Americano",recipe:{espresso:3}},{id:5,name:"Caffe Mocha",recipe:{espresso:1,cocoa:1,steamedMilk:1,whippedCream:1}},{id:6,name:"Cappuccino",recipe:{espresso:2,steamedMilk:1,foamedMilk:1}}];let u=(()=>{class i{constructor(){this.ingredients=m,this.ingredientsSubject=new d.t(this.ingredients),this.dispensingSubject=new d.t(!1),this.currentDrinkSubject=new d.t(null)}getIngredients(){return this.ingredientsSubject.asObservable()}getDispensing(){return this.dispensingSubject.asObservable()}getCurrentDrink(){return this.currentDrinkSubject.asObservable()}getDrinks(){return g}calculateDrinkCost(t){let n=0;for(const[s,r]of Object.entries(t.recipe))n+=this.ingredients[s].cost*r;return Number.parseFloat(n.toFixed(2))}dispenseDrink(t){this.dispensingSubject.next(!0),this.currentDrinkSubject.next(t);const n={...this.ingredients};for(const[s,r]of Object.entries(t.recipe))n[s]={...n[s],inventory:n[s].inventory-r};setTimeout(()=>{this.ingredients=n,this.ingredientsSubject.next(this.ingredients),this.dispensingSubject.next(!1),this.currentDrinkSubject.next(null)},2e3)}restockIngredients(){const t={...this.ingredients};for(const n of Object.keys(t))t[n]={...t[n],inventory:10};this.ingredients=t,this.ingredientsSubject.next(this.ingredients)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();const f=function(i,c,t){return{"bg-danger":i,"bg-warning":c,"bg-success":t}};function h(i,c){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"div",8)(7,"div",9),e.EFF(8),e.k0s()()()()),2&i){const t=c.$implicit;e.R7$(2),e.JRh(t.value.name),e.R7$(2),e.SpI("$",t.value.cost.toFixed(2),""),e.R7$(3),e.xc7("width",t.value.inventory/10*100+"%"),e.Y8G("ngClass",e.sMw(6,f,t.value.inventory<3,t.value.inventory>=3&&t.value.inventory<7,t.value.inventory>=7)),e.R7$(1),e.SpI(" ",t.value.inventory," ")}}let v=(()=>{class i{constructor(t){this.baristaMaticService=t,this.ingredients={}}ngOnInit(){this.baristaMaticService.getIngredients().subscribe(t=>this.ingredients=t)}restock(){this.baristaMaticService.restockIngredients()}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(u))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-ingredients-inventory"]],decls:20,vars:3,consts:[[1,"card","mb-4"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"btn","btn-primary",3,"click"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"progress",2,"height","20px"],["role","progressbar",1,"progress-bar",3,"ngClass"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h5",2),e.EFF(3,"Inventory"),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return s.restock()}),e.EFF(5,"Restock"),e.k0s()(),e.j41(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),e.EFF(12,"Ingredient"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Cost"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Inventory"),e.k0s()()(),e.j41(17,"tbody"),e.DNE(18,h,9,10,"tr",7),e.nI1(19,"keyvalue"),e.k0s()()()()()),2&n&&(e.R7$(18),e.Y8G("ngForOf",e.bMT(19,1,s.ingredients)))},dependencies:[a.YU,a.Sq,a.lG]})}}return i})();function b(i,c){if(1&i){const t=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"div",3)(3,"h5",16),e.EFF(4),e.k0s(),e.j41(5,"p",17)(6,"small",18),e.EFF(7),e.k0s()(),e.j41(8,"p",17)(9,"strong"),e.EFF(10),e.k0s()()(),e.j41(11,"div",19)(12,"button",20),e.bIt("click",function(){const r=e.eBV(t).$implicit,C=e.XpG();return e.Njj(C.dispenseDrink(r.drink))}),e.EFF(13," Order "),e.k0s()()()()}if(2&i){const t=c.$implicit,n=e.XpG();e.R7$(4),e.JRh(t.drink.name),e.R7$(3),e.JRh(t.recipeString),e.R7$(3),e.SpI("Price: $",t.cost.toFixed(2),""),e.R7$(2),e.Y8G("disabled",!t.canMake||n.isDispensing)}}function k(i,c){1&i&&e.nrm(0,"div",21)}let y=(()=>{class i{constructor(t){this.baristaMaticService=t,this.drinksInfoList=[],this.isDispensing=!1,this.currentDrink=null}ngOnInit(){this.baristaMaticService.getDispensing().subscribe(t=>this.isDispensing=t),this.baristaMaticService.getCurrentDrink().subscribe(t=>this.currentDrink=t),this.baristaMaticService.getIngredients().subscribe(t=>{this.drinksInfoList=this.baristaMaticService.getDrinks().map(n=>({drink:n,cost:this.getDrinkCost(n),recipeString:this.getRecipeString(n),canMake:this.canMakeDrink(n,t)}))})}getDrinkCost(t){return this.baristaMaticService.calculateDrinkCost(t)}canMakeDrink(t,n){for(const[s,r]of Object.entries(t.recipe))if(n[s].inventory<r)return!1;return!0}dispenseDrink(t){this.baristaMaticService.dispenseDrink(t)}getRecipeString(t){return Object.entries(t.recipe).map(([n,s])=>`${s} ${n.trim()}`).join(", ")}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(u))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-menu"]],decls:18,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"row"],["class","col-sm-12 col-md-6 col-lg-4 p-2",4,"ngFor","ngForOf"],["tabindex","-1",1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body","text-center"],["role","status",1,"spinner-border","text-primary"],["class","modal-backdrop fade show",4,"ngIf"],[1,"col-sm-12","col-md-6","col-lg-4","p-2"],[1,"card","h-100"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[1,"card-footer"],[1,"btn","btn-success","w-100",3,"disabled","click"],[1,"modal-backdrop","fade","show"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h5",2),e.EFF(3,"Drink Menu"),e.k0s()(),e.j41(4,"div",3)(5,"div",4),e.DNE(6,b,14,4,"div",5),e.k0s()()(),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"h5",10),e.EFF(12,"Dispensing Drink"),e.k0s()(),e.j41(13,"div",11),e.nrm(14,"div",12),e.j41(15,"p",2),e.EFF(16),e.k0s()()()()(),e.DNE(17,k,1,0,"div",13)),2&n&&(e.R7$(6),e.Y8G("ngForOf",s.drinksInfoList),e.R7$(1),e.xc7("display",s.isDispensing?"block":"none"),e.AVh("show",s.isDispensing),e.R7$(9),e.SpI("Preparing ",null==s.currentDrink?null:s.currentDrink.name,"..."),e.R7$(1),e.Y8G("ngIf",s.isDispensing))},dependencies:[a.Sq,a.bT]})}}return i})();const F=[{path:"",component:(()=>{class i{constructor(){this.title="Baristamatic Coffee Machine"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-dashboard"]],decls:13,vars:1,consts:[[1,"container","py-4"],[1,"pb-3","mb-4","border-bottom"],[1,"d-flex","align-items-center","text-dark","text-decoration-none"],[1,"bi","bi-cup-hot","fs-4","me-2"],[1,"fs-4"],[1,"row","g-4"],[1,"col-sm-12","col-md-6","col-lg-4"],[1,"col-sm-12","col-md-6","col-lg-8"],[1,"pt-3","mt-4","border-top"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"header",1)(2,"div",2),e.nrm(3,"i",3),e.j41(4,"span",4),e.EFF(5),e.k0s()()(),e.j41(6,"div",5)(7,"div",6),e.nrm(8,"app-ingredients-inventory"),e.k0s(),e.j41(9,"div",7),e.nrm(10,"app-menu"),e.k0s()(),e.j41(11,"footer",8),e.EFF(12," \xa9 2025 Barista-matic coffee dispenser by Ayan Patel "),e.k0s()()),2&n&&(e.R7$(5),e.JRh(s.title))},dependencies:[v,y]})}}return i})()}];let j=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[p.iI.forChild(F),p.iI]})}}return i})(),D=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[a.MD,j]})}}return i})()}}]);